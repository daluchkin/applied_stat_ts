<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 ARIMA with predictors | Applied statistics: Time series analysis</title>
  <meta name="description" content="Chapter 7 ARIMA with predictors | Applied statistics: Time series analysis" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 ARIMA with predictors | Applied statistics: Time series analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="https://github.com/daluchkin/applied_stat_ts" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 ARIMA with predictors | Applied statistics: Time series analysis" />
  
  
  

<meta name="author" content="Dmitry Luchkin" />


<meta name="date" content="2024-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="arima-and-seasonal-arima-sarima.html"/>
<link rel="next" href="missing-values-anomalies-structural-shift.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://www.youtube.com/@%D0%9F%D1%80%D0%B8%D0%BA%D0%BB%D0%B0%D0%B4%D0%BD%D0%B0%D1%8F%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%81%D1%82%D0%B8%D0%BA%D0%B0/playlists">Time Series Analysis (Lectures)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html"><i class="fa fa-check"></i><b>1</b> Components of time series and naive models</a>
<ul>
<li class="chapter" data-level="1.1" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#what-is-time-series"><i class="fa fa-check"></i><b>1.1</b> What is time series?</a></li>
<li class="chapter" data-level="1.2" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#time-series-components"><i class="fa fa-check"></i><b>1.2</b> Time Series Components</a></li>
<li class="chapter" data-level="1.3" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#algorithm-stl"><i class="fa fa-check"></i><b>1.3</b> Algorithm STL</a></li>
<li class="chapter" data-level="1.4" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#time-series-characteristics"><i class="fa fa-check"></i><b>1.4</b> Time Series Characteristics</a>
<ul>
<li class="chapter" data-level="" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#acf"><i class="fa fa-check"></i>ACF</a></li>
<li class="chapter" data-level="" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#pacf"><i class="fa fa-check"></i>PACF</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#simple-models"><i class="fa fa-check"></i><b>1.5</b> Simple Models</a>
<ul>
<li class="chapter" data-level="" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#white-noise"><i class="fa fa-check"></i>White Noise</a></li>
<li class="chapter" data-level="" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#model-with-independent-observations"><i class="fa fa-check"></i>Model with independent observations</a></li>
<li class="chapter" data-level="" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#naive-model-random-walk"><i class="fa fa-check"></i>Naive Model (Random Walk)</a></li>
<li class="chapter" data-level="" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#seasonal-random-walk"><i class="fa fa-check"></i>Seasonal Random Walk</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#examples"><i class="fa fa-check"></i><b>1.6</b> Examples</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#time-series-from-scratch"><i class="fa fa-check"></i><b>1.6.1</b> Time series from scratch</a></li>
<li class="chapter" data-level="1.6.2" data-path="components-of-time-series-and-naive-models.html"><a href="components-of-time-series-and-naive-models.html#time-series-data-cleaning"><i class="fa fa-check"></i><b>1.6.2</b> Time Series data cleaning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html"><i class="fa fa-check"></i><b>2</b> Exponential smoothing models</a>
<ul>
<li class="chapter" data-level="2.1" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#etsann-model"><i class="fa fa-check"></i><b>2.1</b> ETS(ANN) model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#forecast"><i class="fa fa-check"></i><b>2.1.1</b> Forecast</a></li>
<li class="chapter" data-level="2.1.2" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#example"><i class="fa fa-check"></i><b>2.1.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#etsaan-model"><i class="fa fa-check"></i><b>2.2</b> ETS(AAN) model</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#forecast-1"><i class="fa fa-check"></i><b>2.2.1</b> Forecast</a></li>
<li class="chapter" data-level="2.2.2" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#example-1"><i class="fa fa-check"></i><b>2.2.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#etsaaa-model"><i class="fa fa-check"></i><b>2.3</b> ETS(AAA) model</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#forecast-2"><i class="fa fa-check"></i><b>2.3.1</b> Forecast</a></li>
<li class="chapter" data-level="2.3.2" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#example-2"><i class="fa fa-check"></i><b>2.3.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#model-selection"><i class="fa fa-check"></i><b>2.4</b> Model selection</a>
<ul>
<li class="chapter" data-level="" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#mean-absolute-error"><i class="fa fa-check"></i>Mean Absolute Error</a></li>
<li class="chapter" data-level="" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#root-mean-squared-error"><i class="fa fa-check"></i>Root Mean Squared Error</a></li>
<li class="chapter" data-level="" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#mean-absolute-percentage-error"><i class="fa fa-check"></i>Mean Absolute Percentage Error</a></li>
<li class="chapter" data-level="" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#symmetric-mean-absolute-percentage-error"><i class="fa fa-check"></i>Symmetric Mean Absolute Percentage Error</a></li>
<li class="chapter" data-level="" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#mean-absolute-scaled-error"><i class="fa fa-check"></i>Mean Absolute Scaled Error</a></li>
<li class="chapter" data-level="" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#akaike-information-criterion"><i class="fa fa-check"></i>Akaike Information Criterion</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#examples-1"><i class="fa fa-check"></i><b>2.5</b> Examples</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#model-selection-by-mse"><i class="fa fa-check"></i><b>2.5.1</b> Model selection by MSE</a></li>
<li class="chapter" data-level="2.5.2" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#model-averaging"><i class="fa fa-check"></i><b>2.5.2</b> Model Averaging</a></li>
<li class="chapter" data-level="2.5.3" data-path="exponential-smoothing-models.html"><a href="exponential-smoothing-models.html#cross-validation"><i class="fa fa-check"></i><b>2.5.3</b> Cross-validation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ets-model-variations.html"><a href="ets-model-variations.html"><i class="fa fa-check"></i><b>3</b> ETS model variations</a>
<ul>
<li class="chapter" data-level="3.1" data-path="ets-model-variations.html"><a href="ets-model-variations.html#etsaadn-damped-trend"><i class="fa fa-check"></i><b>3.1</b> ETS(AAdN): damped trend</a>
<ul>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#forecast-3"><i class="fa fa-check"></i>Forecast</a></li>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#example-3"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="ets-model-variations.html"><a href="ets-model-variations.html#etsmnm-multiplicative-components"><i class="fa fa-check"></i><b>3.2</b> ETS(MNM): multiplicative components</a>
<ul>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#parameters"><i class="fa fa-check"></i>Parameters</a></li>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#forecast-4"><i class="fa fa-check"></i>Forecast</a></li>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#example-4"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ets-model-variations.html"><a href="ets-model-variations.html#etsmadm-combinations"><i class="fa fa-check"></i><b>3.3</b> ETS(MAdM): combinations</a>
<ul>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#parameters-1"><i class="fa fa-check"></i>Parameters</a></li>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#forecast-5"><i class="fa fa-check"></i>Forecast</a></li>
<li class="chapter" data-level="" data-path="ets-model-variations.html"><a href="ets-model-variations.html#example-5"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ets-model-variations.html"><a href="ets-model-variations.html#examples-2"><i class="fa fa-check"></i><b>3.4</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="stationary-process.html"><a href="stationary-process.html"><i class="fa fa-check"></i><b>4</b> Stationary Process</a>
<ul>
<li class="chapter" data-level="4.1" data-path="stationary-process.html"><a href="stationary-process.html#ma-processes"><i class="fa fa-check"></i><b>4.1</b> MA processes</a></li>
<li class="chapter" data-level="4.2" data-path="stationary-process.html"><a href="stationary-process.html#examples-3"><i class="fa fa-check"></i><b>4.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="arma-processes.html"><a href="arma-processes.html"><i class="fa fa-check"></i><b>5</b> ARMA processes</a>
<ul>
<li class="chapter" data-level="5.1" data-path="arma-processes.html"><a href="arma-processes.html#ar-process"><i class="fa fa-check"></i><b>5.1</b> AR process</a></li>
<li class="chapter" data-level="5.2" data-path="arma-processes.html"><a href="arma-processes.html#arma-process"><i class="fa fa-check"></i><b>5.2</b> ARMA process</a></li>
<li class="chapter" data-level="5.3" data-path="arma-processes.html"><a href="arma-processes.html#examples-4"><i class="fa fa-check"></i><b>5.3</b> Examples</a></li>
<li class="chapter" data-level="5.4" data-path="arma-processes.html"><a href="arma-processes.html#comparing-ar-ma-and-arma"><i class="fa fa-check"></i><b>5.4</b> Comparing AR, MA and ARMA</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html"><i class="fa fa-check"></i><b>6</b> ARIMA and seasonal ARIMA (sARIMA)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#unit-root-test"><i class="fa fa-check"></i><b>6.1</b> Unit root test</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#kpss-test"><i class="fa fa-check"></i><b>6.1.1</b> KPSS test</a></li>
<li class="chapter" data-level="6.1.2" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#adf-test"><i class="fa fa-check"></i><b>6.1.2</b> ADF test</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#seasonal-arima"><i class="fa fa-check"></i><b>6.2</b> Seasonal ARIMA</a>
<ul>
<li class="chapter" data-level="" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#step-1-how-many-times-should-i-apply-a-seasonal-differencing"><i class="fa fa-check"></i><strong>Step 1</strong>: How many times should I apply a seasonal differencing?</a></li>
<li class="chapter" data-level="" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#step-2-how-many-times-should-i-apply-a-first-differencing"><i class="fa fa-check"></i><strong>Step 2</strong>: How many times should I apply a first differencing?</a></li>
<li class="chapter" data-level="" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#step-3-apply-sarma-models-to-stationary-series."><i class="fa fa-check"></i><strong>Step 3</strong>: Apply SARMA models to stationary series.</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#automatic-arima"><i class="fa fa-check"></i><b>6.3</b> Automatic ARIMA</a></li>
<li class="chapter" data-level="6.4" data-path="arima-and-seasonal-arima-sarima.html"><a href="arima-and-seasonal-arima-sarima.html#output2equations"><i class="fa fa-check"></i><b>6.4</b> Output2Equations</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html"><i class="fa fa-check"></i><b>7</b> ARIMA with predictors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#how-to-make-predictors"><i class="fa fa-check"></i><b>7.1</b> How to make predictors?</a></li>
<li class="chapter" data-level="7.2" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#using-lags"><i class="fa fa-check"></i><b>7.2</b> Using lags</a></li>
<li class="chapter" data-level="7.3" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#using-function-of-lags"><i class="fa fa-check"></i><b>7.3</b> Using function of lags</a></li>
<li class="chapter" data-level="7.4" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#time-predictors"><i class="fa fa-check"></i><b>7.4</b> Time predictors</a></li>
<li class="chapter" data-level="7.5" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#trend-predictors"><i class="fa fa-check"></i><b>7.5</b> Trend predictors</a></li>
<li class="chapter" data-level="7.6" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#seasonal-and-holidays-dummies"><i class="fa fa-check"></i><b>7.6</b> Seasonal and holidays dummies</a></li>
<li class="chapter" data-level="7.7" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#sin-and-cos-over-time"><i class="fa fa-check"></i><b>7.7</b> Sin and Cos over time</a></li>
<li class="chapter" data-level="7.8" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#arima-and-predictors"><i class="fa fa-check"></i><b>7.8</b> ARIMA and predictors</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#example-1-1"><i class="fa fa-check"></i><b>7.8.1</b> Example 1</a></li>
<li class="chapter" data-level="7.8.2" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#example-2.-daily-data"><i class="fa fa-check"></i><b>7.8.2</b> Example 2. Daily data</a></li>
<li class="chapter" data-level="7.8.3" data-path="arima-with-predictors.html"><a href="arima-with-predictors.html#example-3-1"><i class="fa fa-check"></i><b>7.8.3</b> Example 3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html"><i class="fa fa-check"></i><b>8</b> Missing values, anomalies, structural shift</a>
<ul>
<li class="chapter" data-level="8.1" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#missing-values"><i class="fa fa-check"></i><b>8.1</b> Missing values</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#imputation-with-linear-interpolation"><i class="fa fa-check"></i><b>8.1.1</b> Imputation with linear interpolation</a></li>
<li class="chapter" data-level="8.1.2" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#arima-imputation"><i class="fa fa-check"></i><b>8.1.2</b> ARIMA imputation</a></li>
<li class="chapter" data-level="8.1.3" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#imputation-with-stl-decomposition"><i class="fa fa-check"></i><b>8.1.3</b> Imputation with STL decomposition</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#outliers-and-anomalies"><i class="fa fa-check"></i><b>8.2</b> Outliers and anomalies</a></li>
<li class="chapter" data-level="8.3" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#structural-shift"><i class="fa fa-check"></i><b>8.3</b> Structural shift</a></li>
<li class="chapter" data-level="8.4" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#bayesian-structural-model"><i class="fa fa-check"></i><b>8.4</b> Bayesian Structural Model</a></li>
<li class="chapter" data-level="8.5" data-path="missing-values-anomalies-structural-shift.html"><a href="missing-values-anomalies-structural-shift.html#causal-impact"><i class="fa fa-check"></i><b>8.5</b> Causal impact</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="questions-and-answers.html"><a href="questions-and-answers.html"><i class="fa fa-check"></i><b>9</b> Questions and answers</a>
<ul>
<li class="chapter" data-level="9.1" data-path="questions-and-answers.html"><a href="questions-and-answers.html#multiseasonality"><i class="fa fa-check"></i><b>9.1</b> Multiseasonality</a></li>
<li class="chapter" data-level="9.2" data-path="questions-and-answers.html"><a href="questions-and-answers.html#crostons-algorithm"><i class="fa fa-check"></i><b>9.2</b> Croston’s Algorithm</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/daluchkin?tab=repositories">All Repositories</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Applied statistics: Time series analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="arima-with-predictors" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> ARIMA with predictors<a href="arima-with-predictors.html#arima-with-predictors" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="arima-with-predictors.html#cb235-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb235-2"><a href="arima-with-predictors.html#cb235-2" tabindex="-1"></a><span class="fu">library</span>(fpp3)</span>
<span id="cb235-3"><a href="arima-with-predictors.html#cb235-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb235-4"><a href="arima-with-predictors.html#cb235-4" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb235-5"><a href="arima-with-predictors.html#cb235-5" tabindex="-1"></a><span class="fu">library</span>(urca)</span></code></pre></div>
<div id="how-to-make-predictors" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> How to make predictors?<a href="arima-with-predictors.html#how-to-make-predictors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Using lags <span class="math inline">\(y_{t-k}\)</span></li>
<li>Using functions over lags</li>
</ul>
</div>
<div id="using-lags" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Using lags<a href="arima-with-predictors.html#using-lags" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Training set:</p>
<p><span class="math display">\[
\begin{pmatrix}
  y_3 \\
  y_4 \\
  y_5 \\
  \vdots \\
  y_T
\end{pmatrix}
\begin{pmatrix}
  y_1 &amp; y_2 \\
  y_2 &amp; y_3 \\
  y_3 &amp; y_4 \\
  \vdots &amp; \vdots \\
  y_{T-2} &amp; y_{T-1}
\end{pmatrix}
\]</span></p>
<blockquote>
<p><strong>Note!</strong> Each added lag reduces the thaining set.</p>
</blockquote>
</div>
<div id="using-function-of-lags" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Using function of lags<a href="arima-with-predictors.html#using-function-of-lags" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><strong>Aggregating functions</strong>: minimum, maximum, mean, median, range, variance, standard deviation,…</li>
<li>An argument of aggregating function:
<ul>
<li>Moving window</li>
<li>Growing window</li>
</ul></li>
</ul>
<p>Example of maximum over a moving window and minimum over a growing window:</p>
<p><span class="math display">\[
\begin{pmatrix}
  y_3 \\
  y_4 \\
  y_5 \\
  \vdots \\
  y_T
\end{pmatrix}
\begin{pmatrix}
  max(y_1, y_2) &amp; min(y_1, y_2) \\
  max(y_2, y_3) &amp; min(y_1, y_2, y_3) \\
  max(y_3, y_4) &amp; min(y_1, \dots , y_4) \\
  \vdots &amp; \vdots \\
  max(y_{T-2}, y_{T-1}) &amp; min(y_1,\dots, y_{T-1})
\end{pmatrix}
\]</span></p>
</div>
<div id="time-predictors" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Time predictors<a href="arima-with-predictors.html#time-predictors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Trend predictors</li>
<li>Seasonal and holidays dummies</li>
<li>Sin and Cos over time</li>
</ul>
</div>
<div id="trend-predictors" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Trend predictors<a href="arima-with-predictors.html#trend-predictors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><span class="math display">\[
\begin{pmatrix}
  y_3 \\
  y_4 \\
  y_5 \\
  \vdots \\
  y_T
\end{pmatrix}
\begin{pmatrix}
  1 &amp; \sqrt 1 \\
  2 &amp; \sqrt 2 \\
  3 &amp; \sqrt 3 \\
  \vdots &amp; \vdots \\
  T &amp; \sqrt T
\end{pmatrix}
\]</span></p>
<p>Forecast:</p>
<p><span class="math display">\[
\begin{pmatrix}
  ?
\end{pmatrix}
\begin{pmatrix}
  T+1 &amp; \sqrt {T+1}
\end{pmatrix}
\]</span></p>
<p>A monotone transformation:</p>
<ul>
<li>It is <strong>useless</strong> for tree-based algorithms</li>
<li>The origin variable could be transformed: log, Box-Cox,…</li>
</ul>
</div>
<div id="seasonal-and-holidays-dummies" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Seasonal and holidays dummies<a href="arima-with-predictors.html#seasonal-and-holidays-dummies" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Seasonal dummies (for quarterly seasonality):</p>
<p><span class="math display">\[
\begin{pmatrix}
  y_1 \\
  y_2 \\
  y_3 \\
  y_4 \\
  y_5 \\
  y_6 \\
  \vdots \\
  y_T
\end{pmatrix}
\begin{pmatrix}
  1 &amp; 0 &amp; 0 &amp; 0 \\
  0 &amp; 1 &amp; 0 &amp; 0 \\
  0 &amp; 0 &amp; 1 &amp; 0 \\
  0 &amp; 0 &amp; 0 &amp; 1 \\
  1 &amp; 0 &amp; 0 &amp; 0 \\
  0 &amp; 1 &amp; 0 &amp; 0 \\
  \vdots &amp; \vdots &amp; \vdots &amp; \vdots \\
  0 &amp; 0 &amp; 1 &amp; 0 \\
\end{pmatrix}
\]</span>
&gt; <strong>Important!</strong> For multiple regression with seasonal dummy variables, you have two options: either include a dummy variable for each season and omit the constant (intercept), or include the intercept and use dummy variables for all but one season.</p>
</div>
<div id="sin-and-cos-over-time" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> Sin and Cos over time<a href="arima-with-predictors.html#sin-and-cos-over-time" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For daily data:</p>
<ul>
<li>Add predictor <span class="math inline">\(cos(\frac {2\pi} {365} \cdot t)\)</span> and <span class="math inline">\(sin(\frac {2\pi} {365} \cdot t)\)</span></li>
<li>Add predictor <span class="math inline">\(cos(\frac {2\pi} {365} \cdot 2t)\)</span> and <span class="math inline">\(sin(\frac {2\pi} {365} \cdot 2t)\)</span></li>
<li>Add predictor <span class="math inline">\(cos(\frac {2\pi} {365} \cdot 3t)\)</span> and <span class="math inline">\(sin(\frac {2\pi} {365} \cdot 3t)\)</span></li>
<li><span class="math inline">\(\dots\)</span></li>
</ul>
</div>
<div id="arima-and-predictors" class="section level2 hasAnchor" number="7.8">
<h2><span class="header-section-number">7.8</span> ARIMA and predictors<a href="arima-with-predictors.html#arima-and-predictors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Linear regression with ARMA errors</li>
<li>ARMAX model</li>
<li>ARDL model</li>
</ul>
<div id="example-1-1" class="section level3 hasAnchor" number="7.8.1">
<h3><span class="header-section-number">7.8.1</span> Example 1<a href="arima-with-predictors.html#example-1-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="arima-with-predictors.html#cb236-1" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb236-2"><a href="arima-with-predictors.html#cb236-2" tabindex="-1"></a><span class="fu">library</span>(ranger)</span>
<span id="cb236-3"><a href="arima-with-predictors.html#cb236-3" tabindex="-1"></a><span class="fu">library</span>(xgboost)</span></code></pre></div>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="arima-with-predictors.html#cb237-1" tabindex="-1"></a>air <span class="ot">&lt;-</span> <span class="fu">as_tsibble</span>(AirPassengers)</span>
<span id="cb237-2"><a href="arima-with-predictors.html#cb237-2" tabindex="-1"></a></span>
<span id="cb237-3"><a href="arima-with-predictors.html#cb237-3" tabindex="-1"></a><span class="fu">gg_tsdisplay</span>(air)</span></code></pre></div>
<pre><code>## Plot variable not specified, automatically selected `y = value`</code></pre>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-3-1.png" width="672" /></p>
<p>Make a variance stable.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="arima-with-predictors.html#cb239-1" tabindex="-1"></a>air2 <span class="ot">&lt;-</span> air <span class="sc">|&gt;</span></span>
<span id="cb239-2"><a href="arima-with-predictors.html#cb239-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ln_pass=</span><span class="fu">log</span>(value), <span class="at">t =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(air))</span>
<span id="cb239-3"><a href="arima-with-predictors.html#cb239-3" tabindex="-1"></a></span>
<span id="cb239-4"><a href="arima-with-predictors.html#cb239-4" tabindex="-1"></a><span class="fu">glimpse</span>(air2)</span></code></pre></div>
<pre><code>## Rows: 144
## Columns: 4
## $ index   &lt;mth&gt; 1949 Jan, 1949 Feb, 1949 Mar, 1949 Apr, 1949 May, 1949 Jun, 1949 Jul, 1949 Aug, 1949 Sep, 1949 Oct, 1949 Nov, 1949 Dec, 1950 Jan, 1950 Feb, 1950 …
## $ value   &lt;dbl&gt; 112, 118, 132, 129, 121, 135, 148, 148, 136, 119, 104, 118, 115, 126, 141, 135, 125, 149, 170, 170, 158, 133, 114, 140, 145, 150, 178, 163, 172, …
## $ ln_pass &lt;dbl&gt; 4.718499, 4.770685, 4.882802, 4.859812, 4.795791, 4.905275, 4.997212, 4.997212, 4.912655, 4.779123, 4.644391, 4.770685, 4.744932, 4.836282, 4.948…
## $ t       &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39…</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="arima-with-predictors.html#cb241-1" tabindex="-1"></a>air2 <span class="sc">|&gt;</span></span>
<span id="cb241-2"><a href="arima-with-predictors.html#cb241-2" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>(ln_pass)</span></code></pre></div>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="arima-with-predictors.html#cb242-1" tabindex="-1"></a>fourier_x <span class="ot">&lt;-</span> forecast<span class="sc">::</span><span class="fu">fourier</span>(AirPassengers, <span class="at">K =</span> <span class="dv">2</span>)</span>
<span id="cb242-2"><a href="arima-with-predictors.html#cb242-2" tabindex="-1"></a></span>
<span id="cb242-3"><a href="arima-with-predictors.html#cb242-3" tabindex="-1"></a>fourier_x</span></code></pre></div>
<pre><code>##             S1-12      C1-12      S2-12 C2-12
##   [1,]  0.5000000  0.8660254  0.8660254   0.5
##   [2,]  0.8660254  0.5000000  0.8660254  -0.5
##   [3,]  1.0000000  0.0000000  0.0000000  -1.0
##   [4,]  0.8660254 -0.5000000 -0.8660254  -0.5
##   [5,]  0.5000000 -0.8660254 -0.8660254   0.5
##   [6,]  0.0000000 -1.0000000  0.0000000   1.0
##   [7,] -0.5000000 -0.8660254  0.8660254   0.5
##   [8,] -0.8660254 -0.5000000  0.8660254  -0.5
##   [9,] -1.0000000  0.0000000  0.0000000  -1.0
##  [10,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [11,] -0.5000000  0.8660254 -0.8660254   0.5
##  [12,]  0.0000000  1.0000000  0.0000000   1.0
##  [13,]  0.5000000  0.8660254  0.8660254   0.5
##  [14,]  0.8660254  0.5000000  0.8660254  -0.5
##  [15,]  1.0000000  0.0000000  0.0000000  -1.0
##  [16,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [17,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [18,]  0.0000000 -1.0000000  0.0000000   1.0
##  [19,] -0.5000000 -0.8660254  0.8660254   0.5
##  [20,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [21,] -1.0000000  0.0000000  0.0000000  -1.0
##  [22,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [23,] -0.5000000  0.8660254 -0.8660254   0.5
##  [24,]  0.0000000  1.0000000  0.0000000   1.0
##  [25,]  0.5000000  0.8660254  0.8660254   0.5
##  [26,]  0.8660254  0.5000000  0.8660254  -0.5
##  [27,]  1.0000000  0.0000000  0.0000000  -1.0
##  [28,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [29,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [30,]  0.0000000 -1.0000000  0.0000000   1.0
##  [31,] -0.5000000 -0.8660254  0.8660254   0.5
##  [32,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [33,] -1.0000000  0.0000000  0.0000000  -1.0
##  [34,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [35,] -0.5000000  0.8660254 -0.8660254   0.5
##  [36,]  0.0000000  1.0000000  0.0000000   1.0
##  [37,]  0.5000000  0.8660254  0.8660254   0.5
##  [38,]  0.8660254  0.5000000  0.8660254  -0.5
##  [39,]  1.0000000  0.0000000  0.0000000  -1.0
##  [40,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [41,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [42,]  0.0000000 -1.0000000  0.0000000   1.0
##  [43,] -0.5000000 -0.8660254  0.8660254   0.5
##  [44,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [45,] -1.0000000  0.0000000  0.0000000  -1.0
##  [46,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [47,] -0.5000000  0.8660254 -0.8660254   0.5
##  [48,]  0.0000000  1.0000000  0.0000000   1.0
##  [49,]  0.5000000  0.8660254  0.8660254   0.5
##  [50,]  0.8660254  0.5000000  0.8660254  -0.5
##  [51,]  1.0000000  0.0000000  0.0000000  -1.0
##  [52,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [53,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [54,]  0.0000000 -1.0000000  0.0000000   1.0
##  [55,] -0.5000000 -0.8660254  0.8660254   0.5
##  [56,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [57,] -1.0000000  0.0000000  0.0000000  -1.0
##  [58,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [59,] -0.5000000  0.8660254 -0.8660254   0.5
##  [60,]  0.0000000  1.0000000  0.0000000   1.0
##  [61,]  0.5000000  0.8660254  0.8660254   0.5
##  [62,]  0.8660254  0.5000000  0.8660254  -0.5
##  [63,]  1.0000000  0.0000000  0.0000000  -1.0
##  [64,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [65,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [66,]  0.0000000 -1.0000000  0.0000000   1.0
##  [67,] -0.5000000 -0.8660254  0.8660254   0.5
##  [68,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [69,] -1.0000000  0.0000000  0.0000000  -1.0
##  [70,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [71,] -0.5000000  0.8660254 -0.8660254   0.5
##  [72,]  0.0000000  1.0000000  0.0000000   1.0
##  [73,]  0.5000000  0.8660254  0.8660254   0.5
##  [74,]  0.8660254  0.5000000  0.8660254  -0.5
##  [75,]  1.0000000  0.0000000  0.0000000  -1.0
##  [76,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [77,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [78,]  0.0000000 -1.0000000  0.0000000   1.0
##  [79,] -0.5000000 -0.8660254  0.8660254   0.5
##  [80,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [81,] -1.0000000  0.0000000  0.0000000  -1.0
##  [82,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [83,] -0.5000000  0.8660254 -0.8660254   0.5
##  [84,]  0.0000000  1.0000000  0.0000000   1.0
##  [85,]  0.5000000  0.8660254  0.8660254   0.5
##  [86,]  0.8660254  0.5000000  0.8660254  -0.5
##  [87,]  1.0000000  0.0000000  0.0000000  -1.0
##  [88,]  0.8660254 -0.5000000 -0.8660254  -0.5
##  [89,]  0.5000000 -0.8660254 -0.8660254   0.5
##  [90,]  0.0000000 -1.0000000  0.0000000   1.0
##  [91,] -0.5000000 -0.8660254  0.8660254   0.5
##  [92,] -0.8660254 -0.5000000  0.8660254  -0.5
##  [93,] -1.0000000  0.0000000  0.0000000  -1.0
##  [94,] -0.8660254  0.5000000 -0.8660254  -0.5
##  [95,] -0.5000000  0.8660254 -0.8660254   0.5
##  [96,]  0.0000000  1.0000000  0.0000000   1.0
##  [97,]  0.5000000  0.8660254  0.8660254   0.5
##  [98,]  0.8660254  0.5000000  0.8660254  -0.5
##  [99,]  1.0000000  0.0000000  0.0000000  -1.0
## [100,]  0.8660254 -0.5000000 -0.8660254  -0.5
## [101,]  0.5000000 -0.8660254 -0.8660254   0.5
## [102,]  0.0000000 -1.0000000  0.0000000   1.0
## [103,] -0.5000000 -0.8660254  0.8660254   0.5
## [104,] -0.8660254 -0.5000000  0.8660254  -0.5
## [105,] -1.0000000  0.0000000  0.0000000  -1.0
## [106,] -0.8660254  0.5000000 -0.8660254  -0.5
## [107,] -0.5000000  0.8660254 -0.8660254   0.5
## [108,]  0.0000000  1.0000000  0.0000000   1.0
## [109,]  0.5000000  0.8660254  0.8660254   0.5
## [110,]  0.8660254  0.5000000  0.8660254  -0.5
## [111,]  1.0000000  0.0000000  0.0000000  -1.0
## [112,]  0.8660254 -0.5000000 -0.8660254  -0.5
## [113,]  0.5000000 -0.8660254 -0.8660254   0.5
## [114,]  0.0000000 -1.0000000  0.0000000   1.0
## [115,] -0.5000000 -0.8660254  0.8660254   0.5
## [116,] -0.8660254 -0.5000000  0.8660254  -0.5
## [117,] -1.0000000  0.0000000  0.0000000  -1.0
## [118,] -0.8660254  0.5000000 -0.8660254  -0.5
## [119,] -0.5000000  0.8660254 -0.8660254   0.5
## [120,]  0.0000000  1.0000000  0.0000000   1.0
## [121,]  0.5000000  0.8660254  0.8660254   0.5
## [122,]  0.8660254  0.5000000  0.8660254  -0.5
## [123,]  1.0000000  0.0000000  0.0000000  -1.0
## [124,]  0.8660254 -0.5000000 -0.8660254  -0.5
## [125,]  0.5000000 -0.8660254 -0.8660254   0.5
## [126,]  0.0000000 -1.0000000  0.0000000   1.0
## [127,] -0.5000000 -0.8660254  0.8660254   0.5
## [128,] -0.8660254 -0.5000000  0.8660254  -0.5
## [129,] -1.0000000  0.0000000  0.0000000  -1.0
## [130,] -0.8660254  0.5000000 -0.8660254  -0.5
## [131,] -0.5000000  0.8660254 -0.8660254   0.5
## [132,]  0.0000000  1.0000000  0.0000000   1.0
## [133,]  0.5000000  0.8660254  0.8660254   0.5
## [134,]  0.8660254  0.5000000  0.8660254  -0.5
## [135,]  1.0000000  0.0000000  0.0000000  -1.0
## [136,]  0.8660254 -0.5000000 -0.8660254  -0.5
## [137,]  0.5000000 -0.8660254 -0.8660254   0.5
## [138,]  0.0000000 -1.0000000  0.0000000   1.0
## [139,] -0.5000000 -0.8660254  0.8660254   0.5
## [140,] -0.8660254 -0.5000000  0.8660254  -0.5
## [141,] -1.0000000  0.0000000  0.0000000  -1.0
## [142,] -0.8660254  0.5000000 -0.8660254  -0.5
## [143,] -0.5000000  0.8660254 -0.8660254   0.5
## [144,]  0.0000000  1.0000000  0.0000000   1.0</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="arima-with-predictors.html#cb244-1" tabindex="-1"></a><span class="co"># sin(2pi t/12) cos(2pi t/12)</span></span>
<span id="cb244-2"><a href="arima-with-predictors.html#cb244-2" tabindex="-1"></a><span class="co"># sin(2pi t/12 * 2) cos(2pi t/12 * 2)</span></span></code></pre></div>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="arima-with-predictors.html#cb245-1" tabindex="-1"></a><span class="fu">colnames</span>(fourier_x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;s1&#39;</span>, <span class="st">&#39;c1&#39;</span>, <span class="st">&#39;s2&#39;</span>, <span class="st">&#39;c2&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="arima-with-predictors.html#cb246-1" tabindex="-1"></a>air3 <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(air2, fourier_x)</span>
<span id="cb246-2"><a href="arima-with-predictors.html#cb246-2" tabindex="-1"></a></span>
<span id="cb246-3"><a href="arima-with-predictors.html#cb246-3" tabindex="-1"></a><span class="fu">glimpse</span>(air3)</span></code></pre></div>
<pre><code>## Rows: 144
## Columns: 8
## $ index   &lt;mth&gt; 1949 Jan, 1949 Feb, 1949 Mar, 1949 Apr, 1949 May, 1949 Jun, 1949 Jul, 1949 Aug, 1949 Sep, 1949 Oct, 1949 Nov, 1949 Dec, 1950 Jan, 1950 Feb, 1950 …
## $ value   &lt;dbl&gt; 112, 118, 132, 129, 121, 135, 148, 148, 136, 119, 104, 118, 115, 126, 141, 135, 125, 149, 170, 170, 158, 133, 114, 140, 145, 150, 178, 163, 172, …
## $ ln_pass &lt;dbl&gt; 4.718499, 4.770685, 4.882802, 4.859812, 4.795791, 4.905275, 4.997212, 4.997212, 4.912655, 4.779123, 4.644391, 4.770685, 4.744932, 4.836282, 4.948…
## $ t       &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39…
## $ s1      &lt;dbl&gt; 0.5000000, 0.8660254, 1.0000000, 0.8660254, 0.5000000, 0.0000000, -0.5000000, -0.8660254, -1.0000000, -0.8660254, -0.5000000, 0.0000000, 0.500000…
## $ c1      &lt;dbl&gt; 0.8660254, 0.5000000, 0.0000000, -0.5000000, -0.8660254, -1.0000000, -0.8660254, -0.5000000, 0.0000000, 0.5000000, 0.8660254, 1.0000000, 0.866025…
## $ s2      &lt;dbl&gt; 0.8660254, 0.8660254, 0.0000000, -0.8660254, -0.8660254, 0.0000000, 0.8660254, 0.8660254, 0.0000000, -0.8660254, -0.8660254, 0.0000000, 0.8660254…
## $ c2      &lt;dbl&gt; 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1…</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="arima-with-predictors.html#cb248-1" tabindex="-1"></a>air3_test <span class="ot">&lt;-</span> <span class="fu">tail</span>(air3, <span class="dv">24</span>)</span>
<span id="cb248-2"><a href="arima-with-predictors.html#cb248-2" tabindex="-1"></a>air3_train <span class="ot">&lt;-</span> <span class="fu">head</span>(air3, <span class="sc">-</span><span class="dv">24</span>)</span>
<span id="cb248-3"><a href="arima-with-predictors.html#cb248-3" tabindex="-1"></a></span>
<span id="cb248-4"><a href="arima-with-predictors.html#cb248-4" tabindex="-1"></a><span class="fu">autoplot</span>(air3_train, ln_pass) <span class="sc">+</span></span>
<span id="cb248-5"><a href="arima-with-predictors.html#cb248-5" tabindex="-1"></a>  <span class="fu">autolayer</span>(air3_test, ln_pass, <span class="at">col=</span><span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-9-1.png" width="672" /></p>
<p>Linear regression:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="arima-with-predictors.html#cb249-1" tabindex="-1"></a>cv_params <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&#39;cv&#39;</span>, <span class="at">number =</span> <span class="dv">5</span>)</span>
<span id="cb249-2"><a href="arima-with-predictors.html#cb249-2" tabindex="-1"></a></span>
<span id="cb249-3"><a href="arima-with-predictors.html#cb249-3" tabindex="-1"></a>ols <span class="ot">&lt;-</span> <span class="fu">train</span>(ln_pass <span class="sc">~</span> t <span class="sc">+</span> s1 <span class="sc">+</span> c1 <span class="sc">+</span> s2 <span class="sc">+</span> c2,</span>
<span id="cb249-4"><a href="arima-with-predictors.html#cb249-4" tabindex="-1"></a>             <span class="at">data =</span> air3_train,</span>
<span id="cb249-5"><a href="arima-with-predictors.html#cb249-5" tabindex="-1"></a>             <span class="at">trControl =</span> cv_params,</span>
<span id="cb249-6"><a href="arima-with-predictors.html#cb249-6" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&#39;lm&#39;</span>)</span></code></pre></div>
<p>Random Forest:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="arima-with-predictors.html#cb250-1" tabindex="-1"></a>rf <span class="ot">&lt;-</span> <span class="fu">train</span>(ln_pass <span class="sc">~</span> t <span class="sc">+</span> s1 <span class="sc">+</span> c1 <span class="sc">+</span> s2 <span class="sc">+</span> c2,</span>
<span id="cb250-2"><a href="arima-with-predictors.html#cb250-2" tabindex="-1"></a>             <span class="at">data =</span> air3_train,</span>
<span id="cb250-3"><a href="arima-with-predictors.html#cb250-3" tabindex="-1"></a>             <span class="at">trControl =</span> cv_params,</span>
<span id="cb250-4"><a href="arima-with-predictors.html#cb250-4" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&#39;ranger&#39;</span>, <span class="at">num.trees =</span> <span class="dv">10000</span>)</span></code></pre></div>
<p>Gradient Boosting:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="arima-with-predictors.html#cb251-1" tabindex="-1"></a>gb <span class="ot">&lt;-</span> <span class="fu">train</span>(ln_pass <span class="sc">~</span> t <span class="sc">+</span> s1 <span class="sc">+</span> c1 <span class="sc">+</span> s2 <span class="sc">+</span> c2,</span>
<span id="cb251-2"><a href="arima-with-predictors.html#cb251-2" tabindex="-1"></a>             <span class="at">data =</span> air3_train,</span>
<span id="cb251-3"><a href="arima-with-predictors.html#cb251-3" tabindex="-1"></a>             <span class="at">trControl =</span> cv_params,</span>
<span id="cb251-4"><a href="arima-with-predictors.html#cb251-4" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&#39;xgbTree&#39;</span>)</span></code></pre></div>
<pre><code>## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:25] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:26] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:27] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:28] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:29] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:30] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:31] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:32] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.
## [18:04:33] WARNING: src/c_api/c_api.cc:935: `ntree_limit` is deprecated, use `iteration_range` instead.</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="arima-with-predictors.html#cb253-1" tabindex="-1"></a>ols_fcst <span class="ot">&lt;-</span> <span class="fu">predict</span>(ols, air3_test)</span>
<span id="cb253-2"><a href="arima-with-predictors.html#cb253-2" tabindex="-1"></a>rf_fcst <span class="ot">&lt;-</span> <span class="fu">predict</span>(rf, air3_test)</span>
<span id="cb253-3"><a href="arima-with-predictors.html#cb253-3" tabindex="-1"></a>gb_fcst <span class="ot">&lt;-</span> <span class="fu">predict</span>(gb, air3_test)</span></code></pre></div>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="arima-with-predictors.html#cb254-1" tabindex="-1"></a>air4_test <span class="ot">&lt;-</span> air3_test <span class="sc">|&gt;</span></span>
<span id="cb254-2"><a href="arima-with-predictors.html#cb254-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ols =</span> ols_fcst,</span>
<span id="cb254-3"><a href="arima-with-predictors.html#cb254-3" tabindex="-1"></a>         <span class="at">rf =</span> rf_fcst,</span>
<span id="cb254-4"><a href="arima-with-predictors.html#cb254-4" tabindex="-1"></a>         <span class="at">gb =</span> gb_fcst)</span></code></pre></div>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="arima-with-predictors.html#cb255-1" tabindex="-1"></a>air4_test <span class="sc">|&gt;</span></span>
<span id="cb255-2"><a href="arima-with-predictors.html#cb255-2" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 24
## Columns: 11
## $ index   &lt;mth&gt; 1959 Jan, 1959 Feb, 1959 Mar, 1959 Apr, 1959 May, 1959 Jun, 1959 Jul, 1959 Aug, 1959 Sep, 1959 Oct, 1959 Nov, 1959 Dec, 1960 Jan, 1960 Feb, 1960 …
## $ value   &lt;dbl&gt; 360, 342, 406, 396, 420, 472, 548, 559, 463, 407, 362, 405, 417, 391, 419, 461, 472, 535, 622, 606, 508, 461, 390, 432
## $ ln_pass &lt;dbl&gt; 5.886104, 5.834811, 6.006353, 5.981414, 6.040255, 6.156979, 6.306275, 6.326149, 6.137727, 6.008813, 5.891644, 6.003887, 6.033086, 5.968708, 6.037…
## $ t       &lt;int&gt; 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144
## $ s1      &lt;dbl&gt; 0.5000000, 0.8660254, 1.0000000, 0.8660254, 0.5000000, 0.0000000, -0.5000000, -0.8660254, -1.0000000, -0.8660254, -0.5000000, 0.0000000, 0.500000…
## $ c1      &lt;dbl&gt; 0.8660254, 0.5000000, 0.0000000, -0.5000000, -0.8660254, -1.0000000, -0.8660254, -0.5000000, 0.0000000, 0.5000000, 0.8660254, 1.0000000, 0.866025…
## $ s2      &lt;dbl&gt; 0.8660254, 0.8660254, 0.0000000, -0.8660254, -0.8660254, 0.0000000, 0.8660254, 0.8660254, 0.0000000, -0.8660254, -0.8660254, 0.0000000, 0.8660254…
## $ c2      &lt;dbl&gt; 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1.0, -0.5, 0.5, 1.0, 0.5, -0.5, -1.0, -0.5, 0.5, 1.0
## $ ols     &lt;dbl&gt; 5.988780, 6.061833, 6.080999, 6.084337, 6.133853, 6.238836, 6.333665, 6.335733, 6.227632, 6.081521, 5.999451, 6.025971, 6.116483, 6.189536, 6.208…
## $ rf      &lt;dbl&gt; 5.834121, 5.846436, 5.914530, 5.893091, 5.905278, 6.028810, 6.132782, 6.126966, 5.973531, 5.852052, 5.780770, 5.822512, 5.834121, 5.846436, 5.914…
## $ gb      &lt;dbl&gt; 5.874744, 5.807138, 5.875329, 5.844591, 5.861524, 5.975298, 6.112180, 6.109149, 5.920560, 5.824709, 5.721851, 5.822887, 5.874744, 5.807138, 5.875…</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="arima-with-predictors.html#cb257-1" tabindex="-1"></a>air3_train <span class="sc">|&gt;</span></span>
<span id="cb257-2"><a href="arima-with-predictors.html#cb257-2" tabindex="-1"></a>  <span class="fu">autoplot</span>(ln_pass) <span class="sc">+</span></span>
<span id="cb257-3"><a href="arima-with-predictors.html#cb257-3" tabindex="-1"></a>  <span class="fu">autolayer</span>(air4_test, ln_pass) <span class="sc">+</span></span>
<span id="cb257-4"><a href="arima-with-predictors.html#cb257-4" tabindex="-1"></a>  <span class="fu">autolayer</span>(air4_test, ols, <span class="at">col=</span><span class="st">&#39;red&#39;</span>) <span class="sc">+</span></span>
<span id="cb257-5"><a href="arima-with-predictors.html#cb257-5" tabindex="-1"></a>  <span class="fu">autolayer</span>(air4_test, rf, <span class="at">col=</span><span class="st">&#39;green&#39;</span>) <span class="sc">+</span></span>
<span id="cb257-6"><a href="arima-with-predictors.html#cb257-6" tabindex="-1"></a>  <span class="fu">autolayer</span>(air4_test, gb, <span class="at">col=</span><span class="st">&#39;blue&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-16-1.png" width="672" /></p>
</div>
<div id="example-2.-daily-data" class="section level3 hasAnchor" number="7.8.2">
<h3><span class="header-section-number">7.8.2</span> Example 2. Daily data<a href="arima-with-predictors.html#example-2.-daily-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="arima-with-predictors.html#cb258-1" tabindex="-1"></a><span class="fu">library</span>(tsibbledata)</span></code></pre></div>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="arima-with-predictors.html#cb259-1" tabindex="-1"></a><span class="fu">head</span>(vic_elec)</span></code></pre></div>
<pre><code>## # A tsibble: 6 x 5 [30m] &lt;Australia/Melbourne&gt;
##   Time                Demand Temperature Date       Holiday
##   &lt;dttm&gt;               &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;lgl&gt;  
## 1 2012-01-01 00:00:00  4383.        21.4 2012-01-01 TRUE   
## 2 2012-01-01 00:30:00  4263.        21.0 2012-01-01 TRUE   
## 3 2012-01-01 01:00:00  4049.        20.7 2012-01-01 TRUE   
## 4 2012-01-01 01:30:00  3878.        20.6 2012-01-01 TRUE   
## 5 2012-01-01 02:00:00  4036.        20.4 2012-01-01 TRUE   
## 6 2012-01-01 02:30:00  3866.        20.2 2012-01-01 TRUE</code></pre>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="arima-with-predictors.html#cb261-1" tabindex="-1"></a>elec <span class="ot">&lt;-</span> vic_elec <span class="sc">|&gt;</span></span>
<span id="cb261-2"><a href="arima-with-predictors.html#cb261-2" tabindex="-1"></a>  <span class="fu">index_by</span>(Date) <span class="sc">|&gt;</span></span>
<span id="cb261-3"><a href="arima-with-predictors.html#cb261-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">dem =</span> <span class="fu">mean</span>(Demand), <span class="at">temp =</span> <span class="fu">mean</span>(Temperature))</span>
<span id="cb261-4"><a href="arima-with-predictors.html#cb261-4" tabindex="-1"></a></span>
<span id="cb261-5"><a href="arima-with-predictors.html#cb261-5" tabindex="-1"></a><span class="fu">gg_tsdisplay</span>(elec)</span></code></pre></div>
<pre><code>## Plot variable not specified, automatically selected `y = dem`</code></pre>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-19-1.png" width="672" /></p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="arima-with-predictors.html#cb263-1" tabindex="-1"></a><span class="fu">gg_tsdisplay</span>(<span class="fu">tail</span>(elec, <span class="dv">60</span>))</span></code></pre></div>
<pre><code>## Plot variable not specified, automatically selected `y = dem`</code></pre>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-20-1.png" width="672" /></p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="arima-with-predictors.html#cb265-1" tabindex="-1"></a>elec_train <span class="ot">&lt;-</span> <span class="fu">head</span>(elec, <span class="sc">-</span><span class="dv">60</span>)</span>
<span id="cb265-2"><a href="arima-with-predictors.html#cb265-2" tabindex="-1"></a>elec_test <span class="ot">&lt;-</span> <span class="fu">tail</span>(elec, <span class="dv">60</span>)</span></code></pre></div>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="arima-with-predictors.html#cb266-1" tabindex="-1"></a>mods <span class="ot">&lt;-</span> elec_train <span class="sc">|&gt;</span></span>
<span id="cb266-2"><a href="arima-with-predictors.html#cb266-2" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb266-3"><a href="arima-with-predictors.html#cb266-3" tabindex="-1"></a>    <span class="at">naive =</span> <span class="fu">NAIVE</span>(dem),</span>
<span id="cb266-4"><a href="arima-with-predictors.html#cb266-4" tabindex="-1"></a>    <span class="at">arima_fK1 =</span> <span class="fu">ARIMA</span>(dem <span class="sc">~</span> <span class="fu">fourier</span>(<span class="at">K =</span> <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)),</span>
<span id="cb266-5"><a href="arima-with-predictors.html#cb266-5" tabindex="-1"></a>    <span class="at">arima_fK2 =</span> <span class="fu">ARIMA</span>(dem <span class="sc">~</span> <span class="fu">fourier</span>(<span class="at">K =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>)),</span>
<span id="cb266-6"><a href="arima-with-predictors.html#cb266-6" tabindex="-1"></a>    <span class="at">arima_fK3 =</span> <span class="fu">ARIMA</span>(dem <span class="sc">~</span> <span class="fu">fourier</span>(<span class="at">K =</span> <span class="dv">3</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span>
<span id="cb266-7"><a href="arima-with-predictors.html#cb266-7" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="arima-with-predictors.html#cb267-1" tabindex="-1"></a>frct <span class="ot">&lt;-</span> mods <span class="sc">|&gt;</span></span>
<span id="cb267-2"><a href="arima-with-predictors.html#cb267-2" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">60</span>)</span>
<span id="cb267-3"><a href="arima-with-predictors.html#cb267-3" tabindex="-1"></a></span>
<span id="cb267-4"><a href="arima-with-predictors.html#cb267-4" tabindex="-1"></a>frct <span class="sc">|&gt;</span></span>
<span id="cb267-5"><a href="arima-with-predictors.html#cb267-5" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">tail</span>(elec_train, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb267-6"><a href="arima-with-predictors.html#cb267-6" tabindex="-1"></a>  <span class="fu">facet_grid</span>(.model <span class="sc">~</span> .)</span></code></pre></div>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-23-1.png" width="672" /></p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="arima-with-predictors.html#cb268-1" tabindex="-1"></a>frct <span class="sc">|&gt;</span> <span class="fu">accuracy</span>(elec)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 10
##   .model    .type    ME  RMSE   MAE   MPE  MAPE  MASE RMSSE  ACF1
##   &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 arima_fK1 Test  -21.8  364.  269. -1.06  6.38 0.910 0.769 0.549
## 2 arima_fK2 Test  -67.6  352.  246. -2.03  5.95 0.832 0.744 0.628
## 3 arima_fK3 Test  -55.1  348.  245. -1.73  5.93 0.829 0.735 0.647
## 4 naive     Test  407.   555.  466.  8.67 10.3  1.58  1.17  0.552</code></pre>
</div>
<div id="example-3-1" class="section level3 hasAnchor" number="7.8.3">
<h3><span class="header-section-number">7.8.3</span> Example 3<a href="arima-with-predictors.html#example-3-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="arima-with-predictors.html#cb270-1" tabindex="-1"></a><span class="fu">library</span>(ARDL)</span></code></pre></div>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="arima-with-predictors.html#cb271-1" tabindex="-1"></a><span class="fu">glimpse</span>(denmark)</span></code></pre></div>
<pre><code>## &#39;zooreg&#39; series from 1974 Q1 to 1987 Q3
##   Data: num [1:55, 1:5] 11.6 11.6 11.6 11.6 11.6 ...
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : NULL
##   ..$ : chr [1:5] &quot;LRM&quot; &quot;LRY&quot; &quot;LPY&quot; &quot;IBO&quot; ...
##   Index:  &#39;yearqtr&#39; num [1:55] 1974 Q1 1974 Q2 1974 Q3 1974 Q4 ...
##   Frequency: 4</code></pre>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="arima-with-predictors.html#cb273-1" tabindex="-1"></a><span class="fu">time</span>(denmark)</span></code></pre></div>
<pre><code>##  [1] &quot;1974 Q1&quot; &quot;1974 Q2&quot; &quot;1974 Q3&quot; &quot;1974 Q4&quot; &quot;1975 Q1&quot; &quot;1975 Q2&quot; &quot;1975 Q3&quot; &quot;1975 Q4&quot; &quot;1976 Q1&quot; &quot;1976 Q2&quot; &quot;1976 Q3&quot; &quot;1976 Q4&quot; &quot;1977 Q1&quot; &quot;1977 Q2&quot; &quot;1977 Q3&quot;
## [16] &quot;1977 Q4&quot; &quot;1978 Q1&quot; &quot;1978 Q2&quot; &quot;1978 Q3&quot; &quot;1978 Q4&quot; &quot;1979 Q1&quot; &quot;1979 Q2&quot; &quot;1979 Q3&quot; &quot;1979 Q4&quot; &quot;1980 Q1&quot; &quot;1980 Q2&quot; &quot;1980 Q3&quot; &quot;1980 Q4&quot; &quot;1981 Q1&quot; &quot;1981 Q2&quot;
## [31] &quot;1981 Q3&quot; &quot;1981 Q4&quot; &quot;1982 Q1&quot; &quot;1982 Q2&quot; &quot;1982 Q3&quot; &quot;1982 Q4&quot; &quot;1983 Q1&quot; &quot;1983 Q2&quot; &quot;1983 Q3&quot; &quot;1983 Q4&quot; &quot;1984 Q1&quot; &quot;1984 Q2&quot; &quot;1984 Q3&quot; &quot;1984 Q4&quot; &quot;1985 Q1&quot;
## [46] &quot;1985 Q2&quot; &quot;1985 Q3&quot; &quot;1985 Q4&quot; &quot;1986 Q1&quot; &quot;1986 Q2&quot; &quot;1986 Q3&quot; &quot;1986 Q4&quot; &quot;1987 Q1&quot; &quot;1987 Q2&quot; &quot;1987 Q3&quot;</code></pre>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="arima-with-predictors.html#cb275-1" tabindex="-1"></a>den <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(denmark)</span>
<span id="cb275-2"><a href="arima-with-predictors.html#cb275-2" tabindex="-1"></a></span>
<span id="cb275-3"><a href="arima-with-predictors.html#cb275-3" tabindex="-1"></a>den</span></code></pre></div>
<pre><code>## # A tibble: 55 × 5
##      LRM   LRY    LPY   IBO    IDE
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1  11.6  5.90 -0.619 0.155 0.094 
##  2  11.6  5.87 -0.581 0.178 0.0955
##  3  11.6  5.84 -0.543 0.171 0.0955
##  4  11.6  5.81 -0.505 0.152 0.0955
##  5  11.6  5.80 -0.486 0.134 0.0885
##  6  11.6  5.79 -0.454 0.133 0.079 
##  7  11.7  5.83 -0.441 0.128 0.076 
##  8  11.8  5.93 -0.439 0.129 0.074 
##  9  11.8  5.94 -0.404 0.141 0.072 
## 10  11.8  5.94 -0.373 0.153 0.078 
## # ℹ 45 more rows</code></pre>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="arima-with-predictors.html#cb277-1" tabindex="-1"></a>den2 <span class="ot">&lt;-</span> den <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">quarter =</span> <span class="fu">yearquarter</span>(<span class="fu">time</span>(denmark)))</span>
<span id="cb277-2"><a href="arima-with-predictors.html#cb277-2" tabindex="-1"></a>den2</span></code></pre></div>
<pre><code>## # A tibble: 55 × 6
##      LRM   LRY    LPY   IBO    IDE quarter
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;qtr&gt;
##  1  11.6  5.90 -0.619 0.155 0.094  1974 Q1
##  2  11.6  5.87 -0.581 0.178 0.0955 1974 Q2
##  3  11.6  5.84 -0.543 0.171 0.0955 1974 Q3
##  4  11.6  5.81 -0.505 0.152 0.0955 1974 Q4
##  5  11.6  5.80 -0.486 0.134 0.0885 1975 Q1
##  6  11.6  5.79 -0.454 0.133 0.079  1975 Q2
##  7  11.7  5.83 -0.441 0.128 0.076  1975 Q3
##  8  11.8  5.93 -0.439 0.129 0.074  1975 Q4
##  9  11.8  5.94 -0.404 0.141 0.072  1976 Q1
## 10  11.8  5.94 -0.373 0.153 0.078  1976 Q2
## # ℹ 45 more rows</code></pre>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="arima-with-predictors.html#cb279-1" tabindex="-1"></a>den3 <span class="ot">&lt;-</span> <span class="fu">as_tsibble</span>(den2, <span class="at">index =</span> quarter)</span>
<span id="cb279-2"><a href="arima-with-predictors.html#cb279-2" tabindex="-1"></a></span>
<span id="cb279-3"><a href="arima-with-predictors.html#cb279-3" tabindex="-1"></a>den3 <span class="sc">|&gt;</span></span>
<span id="cb279-4"><a href="arima-with-predictors.html#cb279-4" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>(LRM)</span></code></pre></div>
<p><img src="_main_files/figure-html/07-ARIMA-predictors-30-1.png" width="672" /></p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="arima-with-predictors.html#cb280-1" tabindex="-1"></a>ardl1 <span class="ot">&lt;-</span> <span class="fu">ardl</span>(<span class="at">data =</span> denmark, LRM <span class="sc">~</span> LRY <span class="sc">+</span> IBO <span class="sc">+</span> IDE,</span>
<span id="cb280-2"><a href="arima-with-predictors.html#cb280-2" tabindex="-1"></a>              <span class="at">order =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb280-3"><a href="arima-with-predictors.html#cb280-3" tabindex="-1"></a></span>
<span id="cb280-4"><a href="arima-with-predictors.html#cb280-4" tabindex="-1"></a>ardl1</span></code></pre></div>
<pre><code>## 
## Time series regression with &quot;zooreg&quot; data:
## Start = 1974 Q3, End = 1987 Q3
## 
## Call:
## dynlm::dynlm(formula = full_formula, data = data, start = start, 
##     end = end)
## 
## Coefficients:
## (Intercept)    L(LRM, 1)    L(LRM, 2)          LRY    L(LRY, 1)          IBO    L(IBO, 1)    L(IBO, 2)          IDE    L(IDE, 1)    L(IDE, 2)  
##      2.2940       0.2852       0.3360       0.6974      -0.3025      -1.0175      -0.2495      -0.5059       0.4163      -0.1528       0.7604</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="arima-with-predictors.html#cb282-1" tabindex="-1"></a>ardl_many <span class="ot">&lt;-</span> <span class="fu">auto_ardl</span>(<span class="at">data =</span> denmark, LRM <span class="sc">~</span> LRY <span class="sc">+</span> IBO <span class="sc">+</span> IDE, <span class="at">max_order =</span> <span class="dv">3</span>)</span>
<span id="cb282-2"><a href="arima-with-predictors.html#cb282-2" tabindex="-1"></a></span>
<span id="cb282-3"><a href="arima-with-predictors.html#cb282-3" tabindex="-1"></a>ardl_many</span></code></pre></div>
<pre><code>## $best_model
## 
## Time series regression with &quot;zooreg&quot; data:
## Start = 1974 Q3, End = 1987 Q3
## 
## Call:
## dynlm::dynlm(formula = full_formula, data = data, start = start, 
##     end = end)
## 
## Coefficients:
## (Intercept)    L(LRM, 1)    L(LRM, 2)          LRY    L(LRY, 1)    L(LRY, 2)          IBO          IDE  
##      1.9834       0.2954       0.4205       0.6823      -0.1502      -0.2753      -1.4068       0.6103  
## 
## 
## $best_order
## LRM LRY IBO IDE 
##   2   2   0   0 
## 
## $top_orders
##    LRM LRY IBO IDE       AIC
## 1    2   2   0   0 -249.6266
## 2    2   2   0   1 -247.7786
## 3    2   1   0   0 -247.5643
## 4    2   2   1   1 -246.6885
## 5    3   3   3   3 -246.3061
## 6    2   2   1   2 -246.2709
## 7    2   1   1   1 -245.8736
## 8    2   2   2   2 -245.7722
## 9    1   1   0   0 -245.6620
## 10   2   1   2   2 -245.1712
## 11   1   0   0   0 -244.4317
## 12   1   1   0   1 -243.7702
## 13   1   1   1   1 -241.8886
## 14   1   0   1   1 -240.8979</code></pre>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="arima-with-predictors.html#cb284-1" tabindex="-1"></a>ardl_many<span class="sc">$</span>best_model</span></code></pre></div>
<pre><code>## 
## Time series regression with &quot;zooreg&quot; data:
## Start = 1974 Q3, End = 1987 Q3
## 
## Call:
## dynlm::dynlm(formula = full_formula, data = data, start = start, 
##     end = end)
## 
## Coefficients:
## (Intercept)    L(LRM, 1)    L(LRM, 2)          LRY    L(LRY, 1)    L(LRY, 2)          IBO          IDE  
##      1.9834       0.2954       0.4205       0.6823      -0.1502      -0.2753      -1.4068       0.6103</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="arima-and-seasonal-arima-sarima.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values-anomalies-structural-shift.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
},
"info": false
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
